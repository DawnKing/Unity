// Generated by proto_to_csharp.py. DO NOT EDIT!
using System.IO;

namespace GameProtocol.ActivityMessage
{
    /// 通知云购购买信息
    public sealed class NotifyCloudPurchaseBuyInfoMessage : IProtocol
    {
        public const short MsgType = MessageType.MSG_NOTIFY_CLOUD_PURCHASE_BUY_INFO;
        public short GetMsgType { get { return MsgType; } }
        public const int NT_REQ_GET = 0;//客户端请求
        public const int NT_BUY_RESPONSE = 1;//个人购买回馈
        public const int NT_MULTICAST = 2;//购买广播
        public uint notifyType;//  通知类型
        public uint buyCnt;//  个人购买数量
        public uint totalCnt;//  全服购买数量
        
        public static void Send(uint notifyType, uint buyCnt, uint totalCnt, object className)
        {
            var packet = new NotifyCloudPurchaseBuyInfoMessage
            {
                notifyType = notifyType,
                buyCnt = buyCnt,
                totalCnt = totalCnt
            };
            NetMessage.Send(packet.BuildPacket(), className);
        }
        
        public byte[] BuildPacket()
        {
            var buffer = ProtocolBuffer.Writer;
            buffer.Write(MsgType);
            buffer.Write(ProtocolBuffer.Zero);
            WriteToStream(buffer);
            return ProtocolBuffer.CacheStream.ToArray();
        }
        
        public void ReadFromStream(BinaryReader reader)
        {
            notifyType = reader.ReadUInt32();
            buyCnt = reader.ReadUInt32();
            totalCnt = reader.ReadUInt32();
        }
        
        public void WriteToStream(BinaryWriter writer)
        {
            writer.Write(notifyType);
            writer.Write(buyCnt);
            writer.Write(totalCnt);
        }
    }
}
